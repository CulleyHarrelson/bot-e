extends layout

block content
  head
    script(async src="https://www.google.com/recaptcha/api.js")
    link(rel="preconnect" href="https://www.google.com")
    link(rel="preconnect" href="https://www.gstatic.com" crossorigin)
    script.
      document.addEventListener("DOMContentLoaded", function () {
          grecaptcha.ready(function () {
              grecaptcha.execute('6Le7yP8nAAAAAPUOVGZ9Xfu95Nco8h0vmUhUZ0u3', { action: 'submit' }).then(function (token) {
                  document.querySelector('#recaptcha').innerHTML = '<input type="hidden" name="g-recaptcha-response" value="' + token + '">';
              });
          });
      });

  +topBar
  .grid-container.text-center
    .grid-x.grid-margin-x.align-center 
      h1.cell.small-12= title
      div.cell.small-12(class="spacer")
      p.cell.small-12.text-center What's going on?
      form.cell.small-12.large-6(method="POST", action="/")
        textarea(name="question", required, style="height: 200px; width: 100%;")
        div#recaptcha
        button.button.large.success(type="submit") Get Advice
